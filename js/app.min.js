function success_popup(a){switch(a.seccion){case"Telemedellín":var b="telemedellin.tmpl.html";break;case"Programas":var b="programas.tmpl.html";break;case"Documentales":var b="documentales.tmpl.html";break;case"Especiales":var b="especiales.tmpl.html";break;default:var b="seccion.tmpl.html"}$.get("/js/libs/mustache/views/"+b,function(b){var c=window.location.href,d=Mustache.render(b,a);modificar_url(a.url,a.seccion),old_title=$(document).attr("title"),$(document).attr("title",a.seccion+" - Telemedellín, aquí te ves"),$("#loading").remove(),$("#container").append(d).fadeIn("slow"),$(".close").attr("href",c),Modernizr.input.placeholder||($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""==a.val()||a.val()==a.attr("placeholder"))&&a.addClass("placeholder").val(a.attr("placeholder"))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})}))})}function cargar_popup(a){$.getJSON(a,success_popup),$("#container").append('<div id="loading"><span class="spinner"></span></div>').fadeIn("slow")}function click_popup(a){var b=a.target.href+"?ajax=true";cargar_popup(b),a.preventDefault()}function v_cerrar_popup(a){a.target==$("#overlay")[0]&&$("#overlay a.close").trigger("click")}function cerrar_popup(a){if(Modernizr.history){var b=$(".close").attr("href");b!=window.location.href?modificar_url(b):modificar_url("")}$(document).attr("title",old_title),$("#overlay").remove(),a.preventDefault()}function abrir_multimedia(a){if(""!=a){var b=window.location.hash.substr(1),c="/telemedellin/popup#"+b;$.fancybox.open({type:"ajax",href:c,autoSize:!1,height:$(window).height()-.1*$(window).height(),padding:[9,20,9,20],afterLoad:function(){var a="Álbumes",c="#"+b;if(a||(a=null),0==$(".no-history").length){var d={state:a};window.history.pushState(d,a,c)}else{var e=c.indexOf("#");e=c.substr(e).substr(1),window.location.hash=e}},afterClose:function(){$(".no-history").length>0&&(window.location.hash=""),modificar_url("#","Álbumes")},beforeLoad:function(){this.width="80%"},beforeShow:function(){this.title?this.title+="<br />":this.title="",this.title+=redes},afterShow:function(){twttr.widgets.load()},helpers:{overlay:{css:{background:"rgba(0, 0, 0, .7)"}},title:{type:"inside"}}})}}function modificar_url(a,b){if(b||(b=null),0==$(".no-history").length){var c={state:b};window.history.pushState(c,b,a)}else if(-1!=a.indexOf("#")){var d=a.indexOf("#");d=a.substr(d).substr(1),window.location.hash=d}}function verificar_hash(){if(window.location.hash){var a=window.location.hash.replace("#","");a=$.trim(a),a.indexOf("imagenes")>=0?abrir_multimedia("imagenes"):a.indexOf("videos")>=0&&abrir_multimedia("videos")}}function accentsTidy(a){var b=a.toLowerCase();return b=b.replace(new RegExp("[àáâãäå]","gi"),"a"),b=b.replace(new RegExp("æ","gi"),"ae"),b=b.replace(new RegExp("ç","gi"),"c"),b=b.replace(new RegExp("[èéêë]","gi"),"e"),b=b.replace(new RegExp("[ìíîï]","gi"),"i"),b=b.replace(new RegExp("ñ","gi"),"n"),b=b.replace(new RegExp("[òóôõö]","gi"),"o"),b=b.replace(new RegExp("œ","gi"),"oe"),b=b.replace(new RegExp("[ùúûü]","gi"),"u"),b=b.replace(new RegExp("[ýÿ]","gi"),"y")}var old_title="",redes="<div><!--Facebook--><div class='fb-share-button' data-type='button_count' data-width='120'></div>";redes+="<div><!--Twitter--><a href='https://twitter.com/share' class='twitter-share-button' data-text='#telemedellin' data-lang='es'>Twittear</a></div>",redes+="<div><!--G+--><div class='g-plusone' data-size='medium'></div></div>",redes+="<div><!--Pinterest--><a href='//pinterest.com/pin/create/button/' data-pin-do='buttonBookmark' ><img src='//assets.pinterest.com/images/pidgets/pin_it_button.png' /></a><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/es_LA/all.js#xfbml=1&appId=26028648916';fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><script type='text/javascript'>window.___gcfg = {lang: 'es'};(function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();FB.XFBML.parse();window.twttr.widgets.load();</script><script type='text/javascript' src='//assets.pinterest.com/js/pinit.js'></script></div></div>",jQuery(function(a){function b(){var b=a(".inner"),c=accentsTidy(this.value);b.find("h2").each(function(b,d){var e=a(d).find("a");if(e.length>0){var f=!1;e.each(function(b,d){var e=new RegExp(c,"i"),g=accentsTidy(a(d).text());return e.test(g)?(f=!0,!1):void 0}),1==f?a(d).show():a(d).hide()}})}var c=a(document),d=a("body"),e=a("#micrositio");if(c.on("click",".ajax a",click_popup),c.on("click","#overlay a.close",cerrar_popup),c.on("click","#overlay",v_cerrar_popup),c.on("keyup","#txtFiltro",b),e[0]&&(a("a.fancybox").each(function(){var b=this,c=(window.location.href,window.location.hash.substr(1),b.href),d=c.indexOf("#"),e=c.substr(d).substr(1),f="/telemedellin/popup#"+e;a(this).fancybox({type:"ajax",href:f,autoSize:!1,height:a(window).height()-.1*a(window).height(),padding:[9,20,9,20],afterLoad:function(){var b="Álbumes",c="#"+e;if(b||(b=null),0==a(".no-history").length){var d={state:b};window.history.pushState(d,b,c)}else{var f=c.indexOf("#");f=c.substr(f).substr(1),window.location.hash=f}},afterClose:function(){a(".no-history").length>0&&(window.location.hash=""),modificar_url("#","Álbumes")},beforeLoad:function(){this.width="80%"},beforeShow:function(){this.title?this.title+="<br />":this.title="",this.title+=redes},afterShow:function(){twttr.widgets.load()},helpers:{overlay:{css:{background:"rgba(0, 0, 0, .7)"}},title:{type:"inside"}}})}),verificar_hash()),d.hasClass("home")){var f=a("#yii-feeds-widget-url").val(),g=a("#yii-feeds-widget-limit").val(),h=a("#yii-feeds-widget-action-url").val(),i=a("#yii-feed-container"),j=a(".noticias");a.get(h,{url:f,limit:g},function(a){i.html(a),j.bxSlider({slideWidth:255,pager:!1,vaMaxWidth:"85%"})})}});